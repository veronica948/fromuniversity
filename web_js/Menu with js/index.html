<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
    <title>The main page</title>
    <link rel="stylesheet" href="css/style.css"/>
</head>
<body>
	<div id="menu"></div>
	<script>
	list1 = {
	name: "list1",
	submenu: ["l1","l2","l3"]
	
};
list2 = {
	name: "list2",
	submenu: ["l1","l2"]
};
list3 = {
	name: "list3",
	submenu: ["l1","l2","l3"]
};
list4 = {
	name: "list4",
	submenu:[]
}; 
var mas=[list1,list2,list3,list4];

var dive=document.getElementById('menu');
var newUl=document.createElement('ul');
newUl.id='newUl';
dive.appendChild(newUl);
for(var i=0;i<mas.length;i++)
{
	var newLi=document.createElement('li');
	newUl.appendChild(newLi);
	newLi.id='title';
	var new_a = document.createElement('a');
	newLi.appendChild(new_a);
	new_a.innerHTML=mas[i].name;
	new_a.setAttribute('href', "#");
    newLi.addEventListener( 'mouseover', show, false);
	newLi.addEventListener( 'mouseout', hide, false);
	var newUl_2=document.createElement('ul');
		newUl_2.id='submenu';
		newLi.appendChild(newUl_2);
	for(var j=0;j<mas[i].submenu.length;j++) {
		var newLi_2=document.createElement('li');
		newUl_2.appendChild(newLi_2);
		var new_a_2 = document.createElement('a');
		newLi_2.appendChild(new_a_2);
		new_a_2.innerHTML=mas[i].submenu[j];
		new_a_2.setAttribute('href',"#");
	}
}
function show() {
	this.lastChild.style.display="block";
}
function hide() {
	this.lastChild.style.display="none";
}
</script>
</body>
</html>
